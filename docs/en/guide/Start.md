---
pageClass: start-page
sidebarDepth: 2
---

# Getting Started

## Entry Method

* **Usage：**
```javascript
async function main(xky, args) {
  // Code
}
```

* **Description：** All module scripts must include this method, which is the entry point for all api method calls, including our own defined methods, and also need to be called here, otherwise it will not run.
* **Parameter：**

name | Type | Description
------------ | ------------- | -------------
xky| string | This is a required parameter. The default value is `xky`.
args| Array | This is an optional parameter. See also:[Module Parameter Configuration](/api/Module.html)

Usage：

```javascript
async function main(xky, args) {
  // Call the custom method
  await log(xky, args)
}
// Custom method
async function log(xky, args) {
  //Code
  await xky.log("Hi,I'm XiakeCloud");
}
```
## Module Parameter Configuration
&emsp;&emsp; The Parameter `args` is an array, and each item is a Object. Such as:

```javascript
[
    {
      "title" : "Input box name",
      "name"  : "Parameter name",
      "type"  : "string",
      // The type can be `string`, `textarea`, `boolean`, `checkbox`, `radio`, `select`
      "file": {
        // If it is a file, this field is a required parameter and the `type` will be ignored.
        "accept": ["jpg", ".png"],
        // File suffixes including `.` or not including `.` are allowed, such as `jpg`, `.jpg`
        "multiple": true // whether uploading multiple files is permitted.
      },
      // File, optional

      "default": "value"
      // If the "type" is string or textarea, the "default" is a string.
      // If the "type" is checkbox, the "default" is an index array.
      // If the "type" is radio or select, the "default" is an index value.

      "validation": { "pattern": "[a-z]+", "flags": "i", "message":"This input box can only enter letters."},
      // Check rule, optional
      // The contents of the text box will be verified by the regular rule generated by new RegExp(pattern, flags).
      // The `flags` option is optional in the rule.

      "values": [] // Required if the type is checkbox or radio.
    },
    //...
]
```
### Module parameter usage

```javascript
[
  {
    "title": "input box",
    "name": "string_name",
    "type": "string",
    "default": "I am a string"
  },
  {
    "title": "text box",
    "name": "textarea_name",
    "type": "textarea",
    "default": "I am a textarea"
  },
  {
    "title": "Boolean value",
    "name": "boolean_name",
    "type": "boolean",
    "default": false
  },
  {
    "title": "Multiple choices",
    "name": "checkbox_name",
    "type": "checkbox",
    "values": ["Option 1", "Option 2", "Option 3", "Option 4"],
    "default": [0, 3]
  },
  {
    "title": "Radio",
    "name": "radio_name",
    "type": "radio",
    "values": ["Option 1", "Option 2", "Option 3", "Option 4"],
    "default":0
  },
  {
    "title": "Select",
    "name": "select_name",
    "type": "select",
    "values": ["Option 1", "Option 2", "Option 3", "Option 4"],
    "default": 3
  },
  {
    "title": "Select text file",
    "name": "files_name",
    "type": "file",
    "file": {
      "accept": [".txt"],
      "multiple": true
    }
  }
]
```

The result returns a `JSON`,such as:

```json
{
  "string_name": "I am a string",
  "textarea_name": "I am a textarea",
  "boolean_name": false,
  "checkbox_name": ["Option 1", "Option 4"], // The result is an array
  "radio_name": "Option 1"
  "select_name":"Option 4",
  "files_name":[] // The result is an array, each item is a base64 string.
  //...
}
```

Referenced in the method：

```javascript
async function main(xky, args) {
  //Code
  xky.log(args.string_name)
}
```


## About asynchronous
&emsp;&emsp;All apis are asynchronous methods. If you need to execute synchronously, use async/await, add the keyword asncy in front of the function, and add await before the statement that needs to be synchronized. example:
```javascript
 //Wait for 10 seconds, a message will pop up
async function main(xky, args) {
  await xky.sleep(10 * 1000); 
  //If you do not need to wait for the return result, you can do it directly without adding the keyword await.
  xky.toast("Hi，I'm a message");
}
```
&emsp;&emsp;Asynchronous feature is a very important part. It can decide whether the interface is synchronous mode or asynchronous as needed. Generally, the methods that need to wait are synchronous, and the methods that do not need to wait (such as prompt messages and log information) are asynchronous. Because asynchronous methods can improve efficiency.

## Result

&emsp;&emsp;All APIs have return values.

Key | Type | Description
------------ | ------------- | -------------
errcode| int | When the value is 0, it is normal, and other values are abnormal.
msg| string | Prompt message returned when normal or error occurs
other | object | Other types of return values, different api returns different content.
